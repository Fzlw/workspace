{"version":3,"file":"Form.stories-c79073d7.js","sources":["../../../packages/component/src/Form/BaseForm.vue","../../../packages/component/src/Form/OneForm.vue"],"sourcesContent":["<!-- <script lang=\"tsx\">\nimport { defineComponent, ref } from 'vue'\nimport type { PropType } from 'vue'\nimport { ElForm, ElFormItem } from 'element-plus'\nimport type { FormInstance } from 'element-plus'\nimport { useColumn } from '../useColumn'\nimport type { FormColumn } from './types'\n\nexport default defineComponent({\n  props: {\n    columns: { type: Array as PropType<FormColumn[]>, required: true },\n  },\n  setup(_props, { attrs }) {\n    const oneForm = ref<FormInstance>()\n\n    const formState = attrs.model ?? {}\n\n    const renderColumn = useColumn()\n\n    return {\n      oneForm,\n      formState,\n      renderColumn,\n    }\n  },\n  render() {\n    const { formState, $attrs, columns, renderColumn } = this\n\n    return (\n      <ElForm {...$attrs} ref='oneForm'>\n        {columns.map((i) => {\n          const { formItemProps, ...other } = i\n\n          return (\n            <ElFormItem key={i.prop} {...formItemProps}>\n              {renderColumn(formState, other, this.$slots)}\n            </ElFormItem>\n          )\n        })}\n      </ElForm>\n    )\n  },\n})\n</script> -->\n\n<!-- 上面的tsx会产生一个ts编译错误 https://github.com/microsoft/TypeScript/issues/47663 -->\n\n<script lang=\"jsx\">\nimport { defineComponent, ref } from 'vue'\nimport { ElForm, ElFormItem } from 'element-plus'\nimport { useColumn } from '../useColumn'\n\nexport default defineComponent({\n  props: {\n    columns: { type: Array, required: true },\n  },\n  setup(_props, { attrs }) {\n    const oneForm = ref()\n\n    const formState = attrs.model ?? {}\n\n    const renderColumn = useColumn()\n\n    return {\n      oneForm,\n      formState,\n      renderColumn,\n    }\n  },\n  render() {\n    const { formState, $attrs, columns, renderColumn } = this\n\n    return (\n      <ElForm {...$attrs} ref='oneForm'>\n        {columns.map((i) => {\n          const { formItemProps, ...other } = i\n\n          return (\n            <ElFormItem key={i.prop} {...formItemProps}>\n              {renderColumn(formState, other, this.$slots)}\n            </ElFormItem>\n          )\n        })}\n      </ElForm>\n    )\n  },\n})\n</script>\n","<template>\n  <BaseForm v-bind=\"{ ...props, ...$attrs }\" ref=\"form\">\n    <template v-for=\"(_, name) in $slots\" v-slot:[name]=\"data\">\n      <slot :name=\"name\" v-bind=\"data\" />\n    </template>\n  </BaseForm>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { FormInstance } from 'element-plus'\nimport BaseForm from './BaseForm.vue'\nimport { NonModel } from '../useColumn'\nimport { FormColumn } from './types'\n\nexport interface Props {\n  model: NonModel\n  columns: FormColumn[]\n}\n\nconst props = defineProps<Props>()\n\nconst form = ref<{ oneForm: FormInstance }>({} as any)\n\nconst validate: FormInstance['validate'] = (cb) => form.value.oneForm.validate(cb)\nconst validateField: FormInstance['validateField'] = (props, cb) => form.value.oneForm.validateField(props, cb)\nconst resetFields: FormInstance['resetFields'] = (props) => form.value.oneForm.resetFields(props)\nconst scrollToField: FormInstance['scrollToField'] = (prop) => form.value.oneForm.scrollToField(prop)\nconst clearValidate: FormInstance['clearValidate'] = (props) => form.value.oneForm.clearValidate(props)\n\ndefineExpose({ validate, validateField, resetFields, scrollToField, clearValidate })\n</script>\n"],"names":["_isSlot","props","s","_isVNode","columns","type","_sfc_main$1","defineComponent","required","setup","attrs","oneForm","renderColumn","ref","formState","useColumn","render","_slot2","_createVNode","ElForm","_mergeProps","$attrs","formItemProps","i","other","ElFormItem","_slot","form","expose","cb","prop"],"mappings":"+UAoDA,SAAAA,KACEC,OAAO,OAAAC,GAAA,YAAA,OAAA,UAAA,SAAA,KAAAA,CAAA,IAAA,mBAAA,CAAAC,EAAAD,CAAA,CACLE,CAAWC,MAAWC,EAAAC,EAAA,CAAEC,MAAAA,CAAe,QAAA,CACxC,KAAA,MACIC,SAAS,EAAEC,CAAO,QACfC,EAAAA,CAEN,MAAAD,GAEME,CAEN,MAAOD,EAAAE,IACEC,EAAAJ,EAAA,OAAA,GACEE,EAAAG,IACTH,MAAAA,CACF,QAAAD,EACD,UAAAG,EACDE,aAAAA,CAAS,WACU,KAAQC,OAAS,CAAEL,UAAAA,WAEpC,QAAAR,EACoB,aAAAQ,CAAeZ,EAAAA,KACX,OAAAkB,EAAAC,EAAAC,EAAAC,EAAA,CAClB,IAAM,YAAEC,EAAaL,EAAAb,EAAA,IAAAmB,GAAA,KAAKC,EAAM,KAAI,CAEpC,cAAAF,EAAA,GAAAE,CACyB,WACuBN,EAAAO,EAAAL,EAAA,CAAA,IAAAG,EAAA,OAGhD,EAAAvB,EAAA0B,EAAAd,EAAAE,EAAAU,EAAA,KAAA,MAAA,CAAA,EAAAE,EAAA,CAAA,QAAA,IAAA,CAAAA,CAAA,CAAA,CAAA,CAGR,CAAA,CAAA,EAAAT,EAAA,CACD,QAAA,IAAA,CAAAA,CAAA,6UChEKU,EAAOd,EAA+B,CAAA,CAAS,EAQrD,OAAAe,EAAa,CAAE,SAN6BC,GAAOF,EAAK,MAAM,QAAQ,SAASE,CAAE,EAMxD,cAL4B,CAAC5B,EAAO4B,IAAOF,EAAK,MAAM,QAAQ,cAAc1B,EAAO4B,CAAE,EAKtE,YAJU5B,GAAU0B,EAAK,MAAM,QAAQ,YAAY1B,CAAK,EAI3C,cAHC6B,GAASH,EAAK,MAAM,QAAQ,cAAcG,CAAI,EAGhC,cAFd7B,GAAU0B,EAAK,MAAM,QAAQ,cAAc1B,CAAK,EAEnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}